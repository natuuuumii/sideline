<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>BTC SIDELINEã€64ãƒœã‚¿ãƒ³ç‰ˆã€‘</title>
  <link rel="icon" type="image/png" href="images/favicon.jpeg" />
  <link rel="apple-touch-icon" href="images/favicon.jpeg" />
  <style>
    :root {
      --bg: #f0f8ff;
      --btn: #3d6aad;
      --btn-alt: #71b4c7;
      --btn-alt2: #74c4c0;
      --btn-text: #fff;
      --playing: #d1ecf1;
      --border: rgba(0,0,0,0.08);
    }

    * { box-sizing: border-box; }

    body {
      font-family: Arial, system-ui, -apple-system, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
      background-color: var(--bg);
      margin: 0;
      padding: 16px;
      color: #123;
    }

    .page-header { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
    .home-link { color: #3d6aad; text-decoration: none; font-weight: bold; }
    .home-link:hover { text-decoration: underline; }

    h3 { text-align: center; margin: 10px 0 16px; }

    #currentTrack { text-align: center; margin: 10px 0 6px; font-size: 15px; }

    audio { display: block; width: min(760px, 94vw); margin: 8px auto 18px; }

    /* ã‚°ãƒªãƒƒãƒ‰: PCã¯8Ã—8ã€ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã¯6åˆ—ã€ã‚¹ãƒãƒ›ã¯4åˆ— */
    .grid {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 8px;
      width: min(820px, 96vw);
      margin: 0 auto;
    }
    @media (max-width: 980px) { .grid { grid-template-columns: repeat(6, 1fr); } }
    @media (max-width: 680px) { .grid { grid-template-columns: repeat(4, 1fr); } }

    .sound-btn {
      appearance: none;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--btn);
      color: var(--btn-text);
      padding: 10px 8px;
      min-height: 48px;
      font-size: 14px;
      line-height: 1.2;
      cursor: pointer;
      transition: transform .04s ease, opacity .2s ease, box-shadow .2s ease;
      word-break: break-word;
    }
    .sound-btn:hover { opacity: .92; }
    .sound-btn:active { transform: translateY(1px); }
    .sound-btn.alt { background: var(--btn-alt); }
    .sound-btn.alt2 { background: var(--btn-alt2); }
    .sound-btn.playing { outline: 3px solid var(--playing); box-shadow: 0 0 0 2px #fff inset; }
    .sound-btn[disabled] { cursor: not-allowed; opacity: .55; filter: grayscale(.2); }

    .legend { width: min(820px, 96vw); margin: 14px auto 0; font-size: 12px; color: #456; }
    .legend code { background: #fff; padding: 2px 6px; border-radius: 6px; border: 1px solid var(--border); }
  </style>
</head>
<body>
  <header class="page-header">
    <a href="index.html" class="home-link">ğŸ  TOPãƒšãƒ¼ã‚¸ã«æˆ»ã‚‹</a>
    <span style="opacity:.6;font-size:12px">/ 64 Button Soundboard</span>
  </header>

  <h3>ğŸµ BTC SIDELINEã€ãã®ä»–ï½œ64ãƒœã‚¿ãƒ³ã€‘</h3>

  <div id="currentTrack">å†ç”Ÿä¸­: ãªã—</div>
  <!-- æ—¢å­˜ãƒšãƒ¼ã‚¸ã® audioPlayer ã‚’æµç”¨ -->
  <audio id="audioPlayer" controls></audio>

  <!-- 8Ã—8ï¼64ãƒœã‚¿ãƒ³ã‚’è‡ªå‹•ç”Ÿæˆ -->
  <div id="grid" class="grid" aria-label="ã‚µã‚¦ãƒ³ãƒ‰ãƒœãƒ¼ãƒ‰ 64ãƒœã‚¿ãƒ³"></div>

  <p class="legend">
    ğŸ”§ æœªå‰²ã‚Šå½“ã¦ã®ãƒœã‚¿ãƒ³ã¯ã‚°ãƒ¬ãƒ¼è¡¨ç¤ºã«ãªã‚Šã¾ã™ã€‚æ›²ã‚’å‰²ã‚Šå½“ã¦ã‚‹ã«ã¯ <code>tracks[i].src</code> ã«ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’å…¥ã‚Œã¦ãã ã•ã„ã€‚
  </p>

<script>
  // --- è¨­å®šã“ã“ã‹ã‚‰ -------------------------------------------------------
  // 64ã‚¹ãƒ­ãƒƒãƒˆåˆ†ã®ãƒˆãƒ©ãƒƒã‚¯ã‚’å®šç¾©ã€‚label=ãƒœã‚¿ãƒ³è¡¨ç¤ºåã€src=ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã€‚
  // æ—¢å­˜ã®9æ›²ã‚’å…ˆé ­ã«å…¥ã‚Œã€æ®‹ã‚Šã¯æœªå‰²ã‚Šå½“ã¦ï¼ˆsrc: ""ï¼‰ã§ä½œã£ã¦ã‚ã‚Šã¾ã™ã€‚
  const tracks = [
    { label: "ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°2025æ˜¥", src: "music/ã‚ªãƒ¼ãƒ—ãƒ‹ãƒ³ã‚°2025æ˜¥.mp3" },
    { label: "â—†2024 èŠ±é“_ When Legends Rise", src: "music/â—†2024 èŠ±é“_ When Legends Rise.mp3" },
    { label: "", src: "" },
    { label: "â˜…ã‚­ãƒƒã‚¯ã‚ªãƒ• _ Joker", src: "music/â˜…ã‚­ãƒƒã‚¯ã‚ªãƒ• _ Joker.mp3" },
    { label: "â˜…ã‚­ãƒƒã‚¯ã‚ªãƒ• _ Rage", src: "music/â˜…ã‚­ãƒƒã‚¯ã‚ªãƒ• _ Rage.mp3" },
    { label: "BTã‚ªãƒã‚³ _ ã‚¤ãƒŠãƒ…ãƒãƒ€ãƒ³ã‚¹", src: "music/BTã‚ªãƒã‚³ _ ã‚¤ãƒŠãƒ…ãƒãƒ€ãƒ³ã‚¹.mp3" },
    { label: "æ˜¥ãƒãƒ¼ãƒ•ã€Been like thisã€‘", src: "music/æ˜¥ãƒãƒ¼ãƒ•ã€Been like thisã€‘ .mp3" },
    { label: "â—†ãƒãƒ¼ãƒ•ã€SAXã€‘", src: "music/â—†ãƒãƒ¼ãƒ•ã€SAXã€‘.mp3" },
    { label: "ãƒãƒ¼ãƒ•å¾ŒBTãƒ€ãƒ³ã‚¹", src: "music/ãƒãƒ¼ãƒ•å¾ŒBTãƒ€ãƒ³ã‚¹.mp3" },
    // ã“ã“ã‹ã‚‰å…ˆã¯å¿…è¦ã«å¿œã˜ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½è¨˜ã—ã¦ãã ã•ã„ï¼ˆåˆè¨ˆ64ï¼‰
  ];

  // 64å€‹ã«æº€ãŸãªã„å ´åˆã¯æœªå‰²ã‚Šå½“ã¦ã‚¹ãƒ­ãƒƒãƒˆã§åŸ‹ã‚ã‚‹
  while (tracks.length < 64) {
    const idx = tracks.length + 1;
    tracks.push({ label: `æœªå‰²ã‚Šå½“ã¦ ${idx}`, src: "" });
  }

  // --- UIç”Ÿæˆ --------------------------------------------------------------
  const grid = document.getElementById('grid');
  const audio = document.getElementById('audioPlayer');
  const currentLabel = document.getElementById('currentTrack');

  let currentIdx = -1;

  function renderButtons() {
    grid.innerHTML = '';

    tracks.forEach((t, i) => {
      const btn = document.createElement('button');
      btn.className = 'sound-btn';

      // 2,3åˆ—ç›®ã ã‘è‰²æ›¿ãˆãªã©å¥½ã¿ã§ï¼ˆè¦–èªæ€§UPï¼‰
      if (i % 8 === 1) btn.classList.add('alt');
      if (i % 8 === 2) btn.classList.add('alt2');

      btn.id = `btn-${i}`;
      btn.type = 'button';
      btn.setAttribute('aria-label', t.label || `ãƒœã‚¿ãƒ³ ${i+1}`);
      btn.textContent = t.label || `ãƒœã‚¿ãƒ³ ${i+1}`;

      if (!t.src) {
        btn.disabled = true;
        btn.title = 'æœªå‰²ã‚Šå½“ã¦';
      } else {
        btn.addEventListener('click', () => playIndex(i));
      }

      grid.appendChild(btn);
    });
  }

  function playIndex(i) {
    const track = tracks[i];
    if (!track || !track.src) return;

    // å†ç”Ÿä¸­ãƒã‚¤ãƒ©ã‚¤ãƒˆã®ãƒªã‚»ãƒƒãƒˆ
    if (currentIdx >= 0) {
      const prev = document.getElementById(`btn-${currentIdx}`);
      prev && prev.classList.remove('playing');
    }

    currentIdx = i;

    audio.src = track.src;
    audio.play().catch(err => {
      console.error('å†ç”Ÿã‚¨ãƒ©ãƒ¼:', err);
    });

    const nowBtn = document.getElementById(`btn-${i}`);
    nowBtn && nowBtn.classList.add('playing');

    const fileName = decodeURIComponent(track.src.split('/').pop());
    currentLabel.textContent = `å†ç”Ÿä¸­: ${fileName}`;
  }

  // æ›²ãŒçµ‚ã‚ã£ãŸã‚‰ãƒã‚¤ãƒ©ã‚¤ãƒˆã‚’å¤–ã™ï¼ˆã¾ãŸã¯ãã®ã¾ã¾ã§ã‚‚OKï¼‰
  audio.addEventListener('ended', () => {
    const nowBtn = document.getElementById(`btn-${currentIdx}`);
    nowBtn && nowBtn.classList.remove('playing');
    currentIdx = -1;
    currentLabel.textContent = 'å†ç”Ÿä¸­: ãªã—';
  });

  // åˆæœŸåŒ–
  renderButtons();
</script>
</body>
</html>
