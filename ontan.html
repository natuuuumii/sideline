<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>BTC SIDELINE【64ボタン版】</title>
  <link rel="icon" type="image/png" href="images/favicon.jpeg" />
  <link rel="apple-touch-icon" href="images/favicon.jpeg" />
  <style>
    :root {
      --bg: #f0f8ff;
      --btn: #3d6aad;
      --btn-alt: #71b4c7;
      --btn-alt2: #74c4c0;
      --btn-text: #fff;
      --playing: #d1ecf1;
      --border: rgba(0,0,0,0.08);
    }

    * { box-sizing: border-box; }

    body {
      font-family: Arial, system-ui, -apple-system, "Hiragino Kaku Gothic ProN", Meiryo, sans-serif;
      background-color: var(--bg);
      margin: 0;
      padding: 16px;
      color: #123;
    }

    .page-header { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
    .home-link { color: #3d6aad; text-decoration: none; font-weight: bold; }
    .home-link:hover { text-decoration: underline; }

    h3 { text-align: center; margin: 10px 0 16px; }

    #currentTrack { text-align: center; margin: 10px 0 6px; font-size: 15px; }

    audio { display: block; width: min(760px, 94vw); margin: 8px auto 18px; }

    /* グリッド: 端末に関係なく常に8×8 */
    .grid {
      display: grid;
      grid-template-columns: repeat(8, minmax(0, 1fr));
      gap: 8px;
      width: min(820px, 96vw);
      margin: 0 auto;
    }
    /* ボタンを小画面で潰れにくくする微調整（任意） */
    .sound-btn {
      appearance: none;
      border: 1px solid var(--border);
      border-radius: 12px;
      background: var(--btn);
      color: var(--btn-text);
      padding: clamp(6px, 1vw, 10px) clamp(4px, 0.8vw, 8px);
      min-height: clamp(36px, 5vw, 48px);
      font-size: clamp(10px, 1.6vw, 14px);
      line-height: 1.2;
      cursor: pointer;
      transition: transform .04s ease, opacity .2s ease, box-shadow .2s ease;
      word-break: break-word;
    }
    .sound-btn:hover { opacity: .92; }
    .sound-btn:active { transform: translateY(1px); }
    .sound-btn.alt { background: var(--btn-alt); }
    .sound-btn.alt2 { background: var(--btn-alt2); }
    .sound-btn.playing { outline: 3px solid var(--playing); box-shadow: 0 0 0 2px #fff inset; }
    .sound-btn[disabled] { cursor: not-allowed; opacity: .55; filter: grayscale(.2); }

    .legend { width: min(820px, 96vw); margin: 14px auto 0; font-size: 12px; color: #456; }
    .legend code { background: #fff; padding: 2px 6px; border-radius: 6px; border: 1px solid var(--border); }
  </style>
</head>
<body>
  <header class="page-header">
    <a href="index.html" class="home-link">🏠 TOPページに戻る</a>
    <span style="opacity:.6;font-size:12px">/ 64 Button Soundboard</span>
  </header>

  <h3>🎵 BTC SIDELINE【その他｜64ボタン】</h3>

  <div id="currentTrack">再生中: なし</div>
  <!-- 既存ページの audioPlayer を流用 -->
  <audio id="audioPlayer" controls></audio>

  <!-- 8×8＝64ボタンを自動生成 -->
  <div id="grid" class="grid" aria-label="サウンドボード 64ボタン"></div>

  <p class="legend">
    🔧 未割り当てのボタンはグレー表示になります。曲を割り当てるには <code>tracks[i].src</code> にファイルパスを入れてください。
  </p>

<script>
  // --- 設定ここから -------------------------------------------------------
  // 64スロット分のトラックを定義。label=ボタン表示名、src=ファイルパス。
  // 既存の9曲を先頭に入れ、残りは未割り当て（src: ""）で作ってあります。
  const tracks = [
    { label: "1st down/いきものがかり", src: "music/1st Down _ いきものがかり.mp3" },
    { label: "1st down/Seventeen", src: "music/1st down _ SEVENTEEN.mp3" }"
    { label: "TDコール/Burn It the Ground", src: "music/◇TDコール_Burn It the Ground.mp3" },
    { label: "TDコール/桜庭", src: "music/TDコール _ 桜庭.mp3" },
    { label: "TD成功/ヘアスプレー", src: "music/◇ TD成功 _ ヘアスプレー.mp3" },
    { label: "トラポン/Get a Chance", src: "music/◇トラポン1Q3Q _ Get A Chance.mp3" },
    { label: "トラポン/Rip it up", src: "music/◇トラポン2Q4Q _ Rip it up.mp3" },
    { label: "ODTO (&2min)/キューティーハニー", src: "music/TO _ キューティーハニー.mp3" },
    { label: "Oナイス/Cruisin'", src: "music/Oナイス _ Crusin.mp3" },
    { label: "Oナイス/なにわ", src: "music/Oナイス _ なにわ.mp3" },
    { label: "Dナイス/woman", src: "music/Dナイス _ woman.mp3.mp3" },
    { label: "Dナイス/Wicked", src: "music/Dナイス _ Wicked.mp3" },
    { label: "ODTO/ Shuffle of Love", src: "music/TO_2min_Shuffle of Love.mp3" },
    { label: "OTO/Money", src: "music/TO(O)_ Money.mp3" },
    { label: "DTO/ディセンダント", src: "music/TO(D) _ ディセンダント.mp3" },
    { label: "DTO/Million Dollar", src: "music/TO(D)Million Dollar.mp3" },
    { label: "OD攻守交代/ ACDC", src: "music/ターンオーバー(O_Dスタ) AC_DC.mp3" },
    { label: "Oスタート", src: "music/Ｏスタ①.mp3" },
    { label: "Oスタ/Game Time", src: "music/Oスタ② _ Game Time.mp3" },
    { label: "Maroon", src: "music/Oダンス _ MAROON5.mp3" },
    { label: "BB", src: "music/Oダンス _ BB.mp3" },
    { label: "Austin", src: "music/Ｏダンス _ Austin.mp3" },
    { label: "Tinie", src: "music/Oダンス _ Tinie.mp3" },
    { label: "Tick", src: "music/Oダンス _ Tick Tick Boom.mp3" },
    { label: "Camila", src: "music/Oダンス _ Camila.mp3" },
    { label: "Motivation", src: "music/Oダンス_motivation.MP3" },
    { label: "Love Sick Girl", src: "music/Oダンス_Lovesick Girls.mp3" },
    { label: "Oコール/DADDY", src: "music/Oコール - DADDY(UP ver.).mp3" },
    { label: "Oコール/WHIP THAT", src: "music/Oコール _ WHIP THAT3.mp3" },
    { label: "Oコール/Pitbull", src: "music/Oコール _ Pitbull.mp3" },
    { label: "Oコール/Shake It", src: "music/Oコール _ Shake it.mp3" },
    { label: "Oコール/Jump", src: "music/Oコール _ Jump.mp3" },
    { label: "Dスタート/HOT", src: "music/Dスタート _ HOT.mp3" },
    { label: "Dスタート/dirty", src: "music/Dスタート _ Dirty.mp3" },
    { label: "Chap", src: "music/Dダンス _ Chap.mp3" },
    { label: "Power", src: "music/Dダンス _ Power(音量up).mp3" },
    { label: "Move", src: "music/Dダンス _ Move.mp3" },
    { label: "Tambourine", src: "music/Dダンス _ Tambourine .mp3" },
    { label: "Bon Jovi", src: "music/Dダンス _ BON JOVI(8×1カット).mp3" },
    { label: "Dalla Dalla", src: "music/Dダンス _ Dalla Dalla.mp3" },
    { label: "Dコール/20世紀少年", src: "music/Dコール _ 20世紀少年.mp3" },
    { label: "Dコール/アベンジャーズ", src: "music/Dコール _ アベンジャーズ.mp3" },
    { label: "Dコール/Clap", src: "music/Dコール _ clap.mp3" },
    { label: "Dコール/Feeling", src: "music/Dコール _ Feeling.mp3" },
    { label: "Dコール/ジョジョ", src: "music/Dコール _ ジョジョ.mp3" },
    { label: "Dコール/Samurai", src: "music/Dコール _ Samurai.mp3" },
    { label: "Dコール/Narco", src: "music/Dコール _ Narco.mp3" },
    { label: "Dコール/マツケンEDM(new)", src: "music/Dコール _ マツケンEDM.mp3" },
    { label: "キックオフ/Joker", src: "music/★キックオフ _ Joker.mp3" },
    { label: "キックオフ/Rage", src: "music/★キックオフ _ Rage.mp3" },
    { label: "相手TD/Another Level", src: "music/相手TD _ Another Level.mp3" },
    { label: "相手TD/heavy", src: "music/相手TD _ HEAVY.mp3" },
    { label: "相手FG/半沢", src: "music/相手FG _ 半沢直樹.mp3" },
    { label: "相手FG/Stand Up", src: "music/相手FG _ STAND UP.mp3" },
    { label: "試合後【勝】/Viva La Vida", src: "music/●●.mp3" },
    { label: "試合後【負】/Tokyo MER", src: "music/●●.mp3" },
    { label: "花道", src: "music/◆2024 花道_ When Legends Rise.mp3" },
    { label: "OP", src: "music/オープニング2025春.mp3" },
    { label: "コイントス", src: "music/◆コイントス.mp3" },
    { label: "前半QT/選手紹介", src: "music/●●.mp3" },
    { label: "後半QT/スポンサー紹介BGM", src: "music/●●.mp3" },
    { label: "前後半2min/イナヅマダンス", src: "music/BTオハコ _ イナヅマダンス.mp3" },
    { label: "ハーフタイム(1曲目+2曲目+退場)", src: "music/●●.mp3" },
    { label: "フリアピ/Head & Heart", src: "music/●●.mp3" },
    // ここから先は必要に応じてファイルを追記してください（合計64）
  ];

  // 64個に満たない場合は未割り当てスロットで埋める
  while (tracks.length < 64) {
    const idx = tracks.length + 1;
    tracks.push({ label: `未割り当て ${idx}`, src: "" });
  }

  // --- UI生成 --------------------------------------------------------------
  const grid = document.getElementById('grid');
  const audio = document.getElementById('audioPlayer');
  const currentLabel = document.getElementById('currentTrack');

  let currentIdx = -1;

  function renderButtons() {
    grid.innerHTML = '';

    tracks.forEach((t, i) => {
      const btn = document.createElement('button');
      btn.className = 'sound-btn';

      // 2,3列目だけ色替えなど好みで（視認性UP）
      if (i % 8 === 1) btn.classList.add('alt');
      if (i % 8 === 2) btn.classList.add('alt2');

      btn.id = `btn-${i}`;
      btn.type = 'button';
      btn.setAttribute('aria-label', t.label || `ボタン ${i+1}`);
      btn.textContent = t.label || `ボタン ${i+1}`;

      if (!t.src) {
        btn.disabled = true;
        btn.title = '未割り当て';
      } else {
        btn.addEventListener('click', () => playIndex(i));
      }

      grid.appendChild(btn);
    });
  }

  function playIndex(i) {
    const track = tracks[i];
    if (!track || !track.src) return;

    // 再生中ハイライトのリセット
    if (currentIdx >= 0) {
      const prev = document.getElementById(`btn-${currentIdx}`);
      prev && prev.classList.remove('playing');
    }

    currentIdx = i;

    audio.src = track.src;
    audio.play().catch(err => {
      console.error('再生エラー:', err);
    });

    const nowBtn = document.getElementById(`btn-${i}`);
    nowBtn && nowBtn.classList.add('playing');

    const fileName = decodeURIComponent(track.src.split('/').pop());
    currentLabel.textContent = `再生中: ${fileName}`;
  }

  // 曲が終わったらハイライトを外す（またはそのままでもOK）
  audio.addEventListener('ended', () => {
    const nowBtn = document.getElementById(`btn-${currentIdx}`);
    nowBtn && nowBtn.classList.remove('playing');
    currentIdx = -1;
    currentLabel.textContent = '再生中: なし';
  });

  // 初期化
  renderButtons();
</script>
</body>
</html>
